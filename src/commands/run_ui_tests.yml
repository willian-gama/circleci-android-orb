description: Restore gradle cache to speed up the build process.

parameters:
  assemble_command:
    type: string
    description: Command to run ui tests

  test_command:
    type: string
    description: Command to run ui tests

steps:
  - android/start-emulator:
      avd-name: TestAVD
      no-window: true
      post-emulator-launch-assemble-command: << parameters.assemble_command >>
      restore-gradle-cache-prefix: v1a
  - android/run-tests:
      max-tries: 3
      no-output-timeout: 5m
      test-command: << parameters.test_command >>