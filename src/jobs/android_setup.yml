description: Initial setup to download android and ruby (fastlane) dependencies.

parameters:
  resource_class:
    type: enum
    description: Configure the executor resource class
    enum: [medium, large, xlarge]
    default: large

  build_variant:
    type: enum
    description: "Define build variant such as: debug, fullDebug"
    enum: [debug, fullDebug]

executor:
  name: android_executor
  resource_class: << parameters.resource_class >>

steps:
  - checkout
  - generate_user_properties
  - restore_gradle_cache
  - run:
      name: Download android dependencies
      command: <<include(scripts/download_android_dependencies.sh)>>
  - android/save-gradle-cache
  - android/save-build-cache
  - persist_workspace